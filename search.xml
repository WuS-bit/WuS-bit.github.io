<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>explain关键字</title>
      <link href="/explain%E5%85%B3%E9%94%AE%E5%AD%97/"/>
      <url>/explain%E5%85%B3%E9%94%AE%E5%AD%97/</url>
      
        <content type="html"><![CDATA[<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>在MySQL中，可以使用<strong><em>explain</em></strong>关键字来获取模拟优化器执行SQL语句的结果，从而知道MySQL是如何执行查询语句的，进而分析查询语句或是表结构的性能瓶颈，方便进行性能优化。</p><a id="more"></a><h1 id="Explain关键字"><a href="#Explain关键字" class="headerlink" title="Explain关键字"></a>Explain关键字</h1><h2 id="语法：-explain-SQL；"><a href="#语法：-explain-SQL；" class="headerlink" title="语法： explain + SQL；"></a>语法： explain + SQL；</h2><p>先上一个demo，留下印象：<br><img src="/img/mysql_learning/explain/explaindemo.png" alt="demo"></p><h2 id="Explain中的列"><a href="#Explain中的列" class="headerlink" title="Explain中的列"></a>Explain中的列</h2><h3 id="一、id列"><a href="#一、id列" class="headerlink" title="一、id列"></a>一、id列</h3><p>总是一组数字，是select查询的序列号，用来标识查询中执行select子句或操作表的顺序。</p><p>情况分析</p><ul><li>id相同时，从上到下顺序执行操作表（mysql的查询计划是左深树）</li><li>id不同时，id值越大越先执行</li><li>当查询语句不含子查询或联合(Union)时id总为1</li><li>当出现子查询时，id会增大<br> <img src="/img/mysql_learning/explain/iddemo.png" alt="id"></li></ul><h3 id="二、select-type"><a href="#二、select-type" class="headerlink" title="二、select_type"></a>二、select_type</h3><p>表示查询类型</p><blockquote><ol><li>SIMPLE:简单的select查询，查询中不包括子查询或union</li><li>PRIMARY:查询中包括任何复杂的子部分，最外层查询被标记为primary</li><li>SUBQUERY:在select或where子句中的子查询</li><li>DERIVED:from子句中的子查询被标记为derived(衍生)，MySQL会递归地执行这些子查询，结果放在临时表</li><li>UNION：出现在UNION后的那个select查询会被标记为UNION</li><li>UNION RESULT:从UNION表获取结果的select</li></ol></blockquote><h3 id="三、table"><a href="#三、table" class="headerlink" title="三、table"></a>三、table</h3><p>表示该查询是关于的那张表</p><h3 id="四、type"><a href="#四、type" class="headerlink" title="四、type"></a>四、type</h3><p>显示查询使用了哪种类型(访问类型)</p><p>常见访问类型效率从最好到最差：system&gt;const&gt;eq_ref&gt;ref&gt;range&gt;index&gt;all<br>一般来说，查询至少到range级别，最好达到ref</p><blockquote><ol><li>system：表中只有一行记录。</li><li>const: 通常是以primary key 或 unique索引作为where子句，且比较条件是键可取值中 的一个常量，通过一次索引便可找到。例如：select * from st where id = 1;</li><li>eq_ref: 这种访问类型，MySQL知道最多只返回一条符合条件的记录。也是以主键或唯一性索引查找，但比较条件不是常量（另一表中的参考值）。</li><li>ref: 用非唯一性索引查找，返回匹配某单个值的所有行。是查找和扫描的混合体。</li><li>range: 范围扫描，即一个限制范围内的索引全扫描，常用于where子句中含between,&gt;,&lt;等范围条件的情况。</li><li>index: 用索引进行的全表扫描。</li><li>all: 全表扫描。</li></ol></blockquote><h3 id="五、possible-keys"><a href="#五、possible-keys" class="headerlink" title="五、possible_keys"></a>五、possible_keys</h3><p>表示查询可能使用到哪些索引，基于查询访问的列(select子句中的字段)和比较操作符来判断的。</p><h3 id="六、key"><a href="#六、key" class="headerlink" title="六、key:"></a>六、key:</h3><p>显示查询使用的索引，如果为null，则未使用索引。若使用覆盖索引<a href="某个复合索引包含select子句中的所有列，则只需根据该索引返回结果，不必再读取数据文件。查询列被所建索引覆盖。不可用select*">^标注</a>，则该索引不会出现在possible_key中。</p><h3 id="七、key-len"><a href="#七、key-len" class="headerlink" title="七、key_len:"></a>七、key_len:</h3><p>表示索引使用的字节数。对于复合索引，key_len可以帮助判断是否充分用上索引，判断多列索引中用到哪些列。</p><h3 id="八、ref"><a href="#八、ref" class="headerlink" title="八、ref:"></a>八、ref:</h3><p>显示了key中索引查找时，作为查找条件用到的列或常量。</p><h3 id="九、rows"><a href="#九、rows" class="headerlink" title="九、rows"></a>九、rows</h3><p>根据表统计信息及索引选用情况，大致估算找到所需记录需要读取的行数。不是结果集行数。</p><h3 id="十、extra"><a href="#十、extra" class="headerlink" title="十、extra:"></a>十、extra:</h3><p>包含不适合出现在其他列的额外重要信息。 </p><blockquote><p>using filesort(避免出现): MySQL对数据使用一个外部的索引排序，而不是按照表内的索引顺序读取。MySQL中无法用索引完成的排序操作成为“文件排序”。（排序的字段未使用到索引）</p><p>using temporary(避免出现): 使用临时表保存中间结果。常见于order by 和 group by。</p><p>using index: select操作使用了覆盖索引，避免了对数据行的操作。效率不错。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> mysql </category>
          
          <category> explain关键字 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/hello-world/"/>
      <url>/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
